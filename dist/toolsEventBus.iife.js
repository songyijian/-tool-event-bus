var toolsEventBus=function(){"use strict";function i(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}var u=Symbol();function t(t){this.dp={},this.name=t}return t.prototype.on=function(t,r){return"function"==typeof r&&"string"==typeof t&&(this.dp[t]||(this.dp[t]=[])).push(r),this},t.prototype.once=function(e,o){var i=this;function a(){i.off(e,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];o.call.apply(o,[i].concat(r))}return Object.defineProperty(a,u,{writable:!1,numerable:!1,value:o}),this.on(e,a),this},t.prototype.emit=function(t){for(var r=this,n=arguments.length,e=new Array(1<n?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];t=this.dp[t];return t&&i(t).forEach(function(t){return t.call.apply(t,[r].concat(e))}),this},t.prototype.off=function(t,r){if(!arguments.length)return this.db={},this;var n=this.dp[t];return n&&(r?this.dp[t]=n.filter(function(t){return!(t===r||t[u]===r)}):delete this.dp[t]),this},t}();
